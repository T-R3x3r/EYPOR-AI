/* Angular Material Theme */
@import '~@angular/material/prebuilt-themes/indigo-pink.css';

/* Global Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  overflow: hidden; /* Prevent body scroll */
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  background-color: #f5f5f5;
  color: #333;
  line-height: 1.6;
  margin: 0;
  padding: 0;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.sidebar {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 20px;
  margin-bottom: 20px;
}

.main-content {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 20px;
}

.btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s ease;
  text-decoration: none;
  display: inline-block;
  text-align: center;
}

.btn-primary {
  background-color: #21acf6;
  color: white;
}

.btn-primary:hover {
  background-color: #1e9be6;
}

.btn-secondary {
  background-color: #747480;
  color: white;
}

.btn-secondary:hover {
  background-color: #626269;
}

.btn-success {
  background-color: #1eca3a;
  color: white;
}

.btn-success:hover {
  background-color: #1ab832;
}

.btn-danger {
  background-color: #a11c1c;
  color: white;
}

.btn-danger:hover {
  background-color: #901919;
}

.btn-sm {
  padding: 4px 8px;
  font-size: 12px;
}

.file-tree {
  margin: 10px 0;
}

.file-item {
  display: flex;
  align-items: center;
  padding: 4px 0;
  border-bottom: 1px solid #eee;
}

.file-item:last-child {
  border-bottom: none;
}

.file-name {
  flex: 1;
  font-family: 'Courier New', monospace;
  font-size: 14px;
}

.file-actions {
  display: flex;
  gap: 4px;
}

.chat-container {
  height: 400px;
  border: 1px solid #ddd;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
}

.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 10px;
  background: #f8f9fa;
}

.chat-input {
  display: flex;
  padding: 10px;
  border-top: 1px solid #ddd;
  background: white;
}

.chat-input input {
  flex: 1;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
  margin-right: 10px;
}

.message {
  margin-bottom: 10px;
  padding: 8px 12px;
  border-radius: 8px;
  max-width: 80%;
}

.message.user {
  background: #FFE600;
  color: black;
  margin-left: auto;
}

.message.assistant {
  background: #e9ecef;
  color: #333;
}

.file-editor {
  margin-top: 20px;
}

.file-selector {
  margin-bottom: 15px;
}

.file-selector select {
  width: 100%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.editor-container {
  border: 1px solid #ddd;
  border-radius: 4px;
}

.editor-textarea {
  width: 100%;
  min-height: 300px;
  padding: 10px;
  border: none;
  resize: vertical;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.4;
}

.editor-actions {
  padding: 10px;
  border-top: 1px solid #ddd;
  background: #f8f9fa;
  display: flex;
  gap: 10px;
}

.file-stats {
  background: #f8f9fa;
  padding: 15px;
  border-radius: 4px;
  margin-bottom: 15px;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 10px;
}

.stat-item {
  text-align: center;
}

.stat-value {
  font-size: 24px;
  font-weight: bold;
  color: #FFE600;
}

.stat-label {
  font-size: 12px;
  color: #666;
  text-transform: uppercase;
}

.output-container {
  margin-top: 20px;
  padding: 15px;
  background: #f8f9fa;
  border-radius: 4px;
  border-left: 4px solid #FFE600;
}

.output-title {
  font-weight: bold;
  margin-bottom: 10px;
  color: #333;
}

.output-content {
  font-family: 'Courier New', monospace;
  font-size: 14px;
  white-space: pre-wrap;
  background: white;
  padding: 10px;
  border-radius: 4px;
  border: 1px solid #ddd;
}

.error-output {
  border-left-color: #a11c1c;
}

.error-output .output-content {
  color: #a11c1c;
}

.loading {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid #f3f3f3;
  border-top: 3px solid #FFE600;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.alert {
  padding: 12px 16px;
  border-radius: 4px;
  margin-bottom: 15px;
}

.alert-success {
  background: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

.alert-error {
  background: #f8d7da;
  color: #721c24;
  border: 1px solid #f5c6cb;
}

.alert-warning {
  background: #fff3cd;
  color: #856404;
  border: 1px solid #ffeaa7;
}

.alert-info {
  background: #d1ecf1;
  color: #0c5460;
  border: 1px solid #bee5eb;
}

/* Dark Mode Styles */
body.dark-mode {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
}

/* Selective dark mode - target specific container types */
body.dark-mode .sidebar,
body.dark-mode .main-layout,
body.dark-mode .right-panel,
body.dark-mode .execution-window,
body.dark-mode .chat-container,
body.dark-mode .sql-container,
body.dark-mode .file-upload,
body.dark-mode .output-container {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
}

/* Text elements should have transparent backgrounds to inherit from parents */
body.dark-mode p,
body.dark-mode span,
body.dark-mode div:not([class*="btn"]):not([class*="badge"]):not([class*="status"]):not(.action-buttons):not([class*="modal-"]):not(.maximized-image-container),
body.dark-mode h1, body.dark-mode h2, body.dark-mode h3, body.dark-mode h4, body.dark-mode h5, body.dark-mode h6,
body.dark-mode label,
body.dark-mode li {
  background: transparent !important;
  color: #eaeaf2 !important;
}

/* Specific white areas that need to be dark */
body.dark-mode .messages-container,
body.dark-mode .chat-messages,
body.dark-mode .upload-area,
body.dark-mode .file-list,
body.dark-mode .file-tree,
body.dark-mode .execution-content,
body.dark-mode .tab-content,
body.dark-mode .sidebar-content {
  background: #2e2e38 !important;
}

/* Areas that should be darker for contrast */
body.dark-mode .message-content,
body.dark-mode .upload-info,
body.dark-mode .output-content,
body.dark-mode .sql-results,
body.dark-mode .results-table,
body.dark-mode .sql-database {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
}

/* Fix yellow dividers to be blue in dark mode */
body.dark-mode .file-upload-section h3::after,
body.dark-mode .file-structure-section h3::after,
body.dark-mode .execution-content h3::after,
body.dark-mode [class*="section"] h3::after,
body.dark-mode h3[style*="border-bottom"] {
  border-bottom-color: #21acf6 !important;
}

/* Yellow divider lines should be blue */
body.dark-mode hr,
body.dark-mode .divider,
body.dark-mode [style*="border-bottom: 2px solid #FFE600"],
body.dark-mode [style*="border-bottom-color: #FFE600"] {
  border-color: #21acf6 !important;
}

/* Only override button colors for primary interface buttons, not file operation buttons */
body.dark-mode .tab-btn.btn-primary,
body.dark-mode .send-btn,
body.dark-mode button.btn-primary:not(.file-actions button):not([class*="file"]) {
  background: #21acf6 !important;
  color: white !important;
}

body.dark-mode button.btn-success:not(.file-actions button):not([class*="file"]) {
  background: #1eca3a !important;
  color: white !important;
}

body.dark-mode button.btn-danger:not(.file-actions button):not([class*="file"]) {
  background: #a11c1c !important;
  color: white !important;
}

body.dark-mode button.btn-secondary:not(.file-actions button):not([class*="file"]) {
  background: #747480 !important;
  color: white !important;
}

/* Don't override specific button colors - preserve yellow run buttons, purple download buttons, etc. */
body.dark-mode .file-actions button,
body.dark-mode .file-item button,
body.dark-mode .uploaded-files button {
  /* Preserve original colors - don't override */
}

/* Make "Uploaded Files" section have a lighter background for separation */
body.dark-mode .uploaded-files-section,
body.dark-mode .file-structure-section {
  background: #1a1a24 !important;
  border: 1px solid #474755 !important;
  border-radius: 6px !important;
  padding: 1rem !important;
  margin-bottom: 1rem !important;
}

/* File badges and status indicators - preserve original colors */
body.dark-mode .file-badge,
body.dark-mode [class*="badge"] {
  /* Don't override - let individual components handle their colors */
}

/* Form inputs */
body.dark-mode input,
body.dark-mode textarea,
body.dark-mode select {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
  border-color: #474755 !important;
}

/* Border colors for containers */
body.dark-mode .sidebar,
body.dark-mode .execution-window,
body.dark-mode .right-panel,
body.dark-mode .tab-content {
  border-color: #474755 !important;
}

/* Don't override badge and status colors - let them keep their original styling */
body.dark-mode .file-badge.python,
body.dark-mode .file-badge.database,
body.dark-mode .file-badge.csv,
body.dark-mode .file-badge.excel,
body.dark-mode .status-badge,
body.dark-mode [class*="badge"] {
  /* Preserve original colors */
}

/* Header Dark Mode */
body.dark-mode .app-header {
  background: #21acf6 !important;
  color: white !important;
}

/* EYPOR header and other component headers */
body.dark-mode .sql-header,
body.dark-mode [class*="header"]:not(.app-header) {
  background: #21acf6 !important;
  color: white !important;
}

/* Execution output header */
body.dark-mode .output-header,
body.dark-mode .execution-header {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .settings-btn {
  color: white;
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
}

body.dark-mode .settings-btn:hover {
  background: rgba(255, 255, 255, 0.2);
}

body.dark-mode .settings-menu {
  background-color: #2e2e38 !important;
}
body.dark-mode .settings-container,
body.dark-mode .app-header {
  background: transparent !important;
  opacity: 1 !important;
  filter: none !important;
  backdrop-filter: none !important;
}

body.dark-mode .settings-header,
body.dark-mode .settings-options,
body.dark-mode .setting-item,
body.dark-mode .setting-label {
  background: transparent !important;
  box-shadow: none !important;
  border: none !important;
}
body.dark-mode .settings-header h4 {
  background: transparent !important;
  box-shadow: none !important;
}

body.dark-mode .setting-label {
  color: #eaeaf2;
}

body.dark-mode .toggle-input:checked + .toggle-slider {
  background-color: #21acf6;
}

/* Main Layout Dark Mode */
body.dark-mode .sidebar,
body.dark-mode .execution-window,
body.dark-mode .right-panel {
  background: #2e2e38;
  border-color: #474755;
}

body.dark-mode .sidebar-content h3,
body.dark-mode .execution-content h3 {
  color: #eaeaf2;
}

/* Tab Navigation Dark Mode */
body.dark-mode .tab-navigation {
  background: #1a1a24 !important;
  border-bottom-color: #474755 !important;
}

body.dark-mode .tab-btn {
  background: transparent !important;
  color: #c2c2cf !important;
  border-color: transparent !important;
}

body.dark-mode .tab-btn:hover {
  background: rgba(33, 172, 246, 0.1) !important;
  color: #21acf6 !important;
}

body.dark-mode .tab-btn.active {
  background: transparent !important;
  color: #21acf6 !important;
  border-bottom: 2px solid #21acf6 !important;
  border-radius: 0 !important;
}

/* Chat Component Dark Mode */
body.dark-mode .chat-container {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .chat-header {
  background: #21acf6 !important;
  color: white !important;
}

body.dark-mode .chat-messages {
  background: #2e2e38 !important;
}

body.dark-mode .message {
  background: #1a1a24 !important;
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .message.user {
  background: #21acf6 !important;
  color: white !important;
}

body.dark-mode .message.bot {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .welcome-message {
  background: #1a1a24 !important;
  border-color: #21acf6 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .chat-input-container {
  background: #1a1a24 !important;
  border-top-color: #474755 !important;
}

body.dark-mode .chat-input {
  background: #2e2e38 !important;
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .chat-input::placeholder {
  color: #747480 !important;
}

body.dark-mode .chat-input:focus {
  border-color: #21acf6 !important;
}

body.dark-mode .send-btn {
  background: #21acf6 !important;
}

body.dark-mode .send-btn:hover {
  background: #1e9be6 !important;
}

/* File Upload Dark Mode */
body.dark-mode .file-upload-container {
  background: #2e2e38;
}

body.dark-mode .upload-area {
  background: #3a3a48;
  border-color: #474755;
  color: #eaeaf2;
}

body.dark-mode .upload-area.drag-over {
  border-color: #21acf6;
  background: rgba(33, 172, 246, 0.1);
}

body.dark-mode .upload-instructions {
  background: #1a1a24 !important;
  color: #c2c2cf !important;
}

body.dark-mode .upload-instructions h4 {
  color: #eaeaf2 !important;
}

body.dark-mode .file-list {
  background: #1a1a24 !important;
  border-color: #474755 !important;
}

body.dark-mode .file-item {
  background: #1a1a24 !important;
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}

/* File Tree Dark Mode */
body.dark-mode .file-tree {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .file-item.file {
  color: #c2c2cf !important;
}

body.dark-mode .file-item.folder {
  color: #eaeaf2 !important;
}

body.dark-mode .file-item:hover {
  background: rgba(33, 172, 246, 0.1) !important;
}

/* SQL Query Dark Mode */
body.dark-mode .sql-container {
  background: #2e2e38 !important;
}

body.dark-mode .sql-editor {
  background: #1a1a24 !important;
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .sql-results {
  background: #1a1a24 !important;
  border-color: #474755 !important;
}

body.dark-mode .results-table {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .results-table th {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .results-table td {
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .results-table tr:nth-child(even) {
  background: rgba(46, 46, 56, 0.5) !important;
}

/* Output Display Dark Mode */
body.dark-mode .output-container {
  background: #2e2e38 !important;
}

body.dark-mode .output-content {
  background: #1a1a24 !important;
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .output-line {
  color: #eaeaf2 !important;
}

body.dark-mode .output-line.error {
  color: #ff6b6b !important;
}

body.dark-mode .output-line.success {
  color: #1eca3a !important;
}

/* Form Elements Dark Mode */
body.dark-mode input,
body.dark-mode textarea,
body.dark-mode select {
  background: #3a3a48;
  border-color: #474755;
  color: #eaeaf2;
}

body.dark-mode input::placeholder,
body.dark-mode textarea::placeholder {
  color: #747480;
}

body.dark-mode input:focus,
body.dark-mode textarea:focus,
body.dark-mode select:focus {
  border-color: #1a9afa;
}

/* Scrollbar Dark Mode */
body.dark-mode ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

body.dark-mode ::-webkit-scrollbar-track {
  background: #2e2e38;
}

body.dark-mode ::-webkit-scrollbar-thumb {
  background: #474755;
  border-radius: 4px;
}

body.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: #6c6c8c;
}

/* Dialog/Modal Dark Mode */
body.dark-mode .dialog-content {
  background: #2e2e38;
  border-color: #474755;
  color: #eaeaf2;
}

body.dark-mode .modal-header,
body.dark-mode .dialog-header {
  background-color: #38384a;
  border-bottom-color: #474755;
  color: #eaeaf2;
}

body.dark-mode .modal-content {
  background-color: #1a1a24 !important;
  color: #f0f0f0;
}

body.dark-mode .modal-header,
body.dark-mode .modal-footer {
  background-color: #2c2c38 !important;
  border-color: #444;
  color: #f0f0f0;
}

/* Code/Pre elements Dark Mode */
body.dark-mode pre,
body.dark-mode code {
  background: #3a3a48;
  color: #eaeaf2;
  border: 1px solid #474755;
}

/* Links Dark Mode */
body.dark-mode a:not(.download-link) {
  color: #1a9afa;
}

body.dark-mode a:hover:not(.download-link) {
  color: #4fc3f7;
}

/* Additional comprehensive dark mode fixes */
body.dark-mode * {
  border-color: #474755;
}

/* Make sure all text elements are properly colored */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4,
body.dark-mode h5,
body.dark-mode h6,
body.dark-mode p,
body.dark-mode span,
body.dark-mode div,
body.dark-mode label,
body.dark-mode li {
  color: #eaeaf2;
}

/* Specific overrides for grey text */
body.dark-mode .text-muted,
body.dark-mode .text-secondary,
body.dark-mode .secondary-text,
body.dark-mode .text-grey,
body.dark-mode .grey-text {
  color: #eaeaf2 !important;
}

/* Tab content areas */
body.dark-mode .tab-pane,
body.dark-mode .tab-content-area {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
}

/* Additional specific dark mode fixes */
body.dark-mode .file-upload-section {
  background: transparent !important;
  border-bottom: none !important;
  color: #eaeaf2 !important;
}

body.dark-mode .file-upload-section h3 {
  background: transparent !important;
  border-bottom: 2px solid #21acf6 !important;
  color: #eaeaf2 !important;
}

/* Uploaded Files header and container */
body.dark-mode .uploaded-files-header,
body.dark-mode .uploaded-files-section {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
}

/* All section headers */
body.dark-mode h3,
body.dark-mode .section-header {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
}

/* Fix any remaining white containers */
body.dark-mode .container,
body.dark-mode .panel,
body.dark-mode .section,
body.dark-mode .card {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
}

/* Ensure all text content is visible */
body.dark-mode .content,
body.dark-mode .text-content {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
}

/* Fix execution output header specifically */
body.dark-mode .execution-header {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
}

/* Additional comprehensive dark mode fixes */
body.dark-mode .execution-result,
body.dark-mode .execution-output,
body.dark-mode .sql-database-container,
body.dark-mode .database-content,
body.dark-mode .loading-container,
body.dark-mode .no-database-container,
body.dark-mode pre,
body.dark-mode code {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
  border-color: #474755 !important;
}

/* Form controls and inputs */
body.dark-mode select,
body.dark-mode .table-selector,
body.dark-mode .search-field {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
  border-color: #474755 !important;
}

/* Ensure all section headers have proper styling - blue borders in dark mode, no grey backgrounds */
body.dark-mode .section-header h3,
body.dark-mode .file-structure-section h3,
body.dark-mode .execution-content h3,
body.dark-mode .chat-content h3 {
  color: #eaeaf2 !important;
  border-bottom-color: #21acf6 !important;
  background: transparent !important;
}

/* Make sure all yellow borders become blue in dark mode */
body.dark-mode .tab-btn.active {
  border-bottom-color: #21acf6 !important;
}

/* Fix EYPOR header border in dark mode */
body.dark-mode .sql-header {
  border-bottom-color: #21acf6 !important;
}

/* Remove any remaining yellow borders in dark mode */
body.dark-mode [style*="border-bottom"],
body.dark-mode [style*="border-color: #FFE600"],
body.dark-mode [style*="border-bottom-color: #FFE600"],
body.dark-mode [style*="border-bottom: 2px solid #FFE600"] {
  border-color: #21acf6 !important;
}

/* Execution output specific fixes */
body.dark-mode .execution-output pre,
body.dark-mode .execution-error pre {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
  border-color: #474755 !important;
}

body.dark-mode .execution-error pre {
  background: rgba(161, 28, 28, 0.1) !important;
  color: #ff6b6b !important;
}

/* Database info sections */
body.dark-mode .database-info-compact,
body.dark-mode .table-selection {
  background: #1a1a24 !important;
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}

body.dark-mode .file-upload-section .upload-area:hover,
body.dark-mode .file-upload-section .upload-area.dragover {
  border-color: #21acf6 !important;
}
body.dark-mode .file-upload-section .upload-area:hover .upload-content i,
body.dark-mode .file-upload-section .upload-area.dragover .upload-content i {
  color: #21acf6 !important;
}

body.dark-mode .file-upload-section .upload-info {
  border: 1px solid #eaeaf2 !important;
  box-shadow: none !important;
}

body.dark-mode .assistant-message .message-content {
  background: red !important;
}

/* Dark mode message styles */
body.dark-mode .message-content {
  background-color: #747480 !important;
}

/* Ensure user messages still have their distinct style */
body.dark-mode .user-message .message-content {
  background: #21acf6 !important;
}

/* Global dark mode message styles with high specificity */
body.dark-mode .right-panel .chat-window .chat-content .message-content,
body.dark-mode app-chat .message-content,
body.dark-mode div[class*="message-content"] {
  background-color: #747480 !important;
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}

/* Global dark mode user message styles */
body.dark-mode .right-panel .chat-window .chat-content .user-message .message-content,
body.dark-mode app-chat .user-message .message-content {
  background: #21acf6 !important;
  border-color: #1e9be6 !important;
  color: white !important;
}

/* Preserve sidebar icon colors in dark mode */
body.dark-mode .run-btn {
  background: #FFE600 !important;
  color: #333 !important;
}

body.dark-mode .run-btn:hover {
  background: #E6D000 !important;
}

body.dark-mode .run-btn.sql-run {
  background: linear-gradient(135deg, #28a745, #20c997) !important;
  color: white !important;
}

body.dark-mode .run-btn.sql-run:hover {
  background: linear-gradient(135deg, #218838, #1da785) !important;
}

body.dark-mode .view-btn {
  background: #007bff !important;
  color: white !important;
}

body.dark-mode .view-btn:hover {
  background: #0056b3 !important;
}

body.dark-mode .download-btn {
  background: #17a2b8 !important;
  color: white !important;
}

body.dark-mode .download-btn:hover {
  background: #138496 !important;
}

body.dark-mode .db-btn {
  background: linear-gradient(135deg, #6f42c1, #6610f2) !important;
  color: white !important;
}

body.dark-mode .db-btn:hover {
  background: linear-gradient(135deg, #5a2d91, #520dc2) !important;
}

body.dark-mode .db-btn .fas.fa-database {
  color: white !important;
}

/* Preserve file type icons colors */
body.dark-mode .fab.fa-python {
  color: #3776AB !important;
}

body.dark-mode .fas.fa-database {
  color: #6f42c1 !important;
}

body.dark-mode .fas.fa-file-csv {
  color: #217346 !important;
}

body.dark-mode .fas.fa-file-code {
  color: #e83e8c !important;
}

body.dark-mode .fas.fa-image {
  color: #ff6b6b !important;
}

/* --- SQL Database Tab Dark Mode Overrides --- */
body.dark-mode .sql-database-container,
body.dark-mode .sql-database-container * {
  background: transparent;
  color: inherit;
}

body.dark-mode .sql-database-container {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
}
body.dark-mode .sql-database-container .section-header h3 {
  color: #eaeaf2 !important;
  border-bottom-color: #FFE600 !important;
}
body.dark-mode .sql-database-container .database-info-compact {
  background: #1a1a24 !important;
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}
body.dark-mode .sql-database-container .compact-info-item {
  color: #c2c2cf !important;
}
body.dark-mode .sql-database-container .compact-info-item strong,
body.dark-mode .sql-database-container .database-info-compact h4 {
  color: #eaeaf2 !important;
}
body.dark-mode .sql-database-container .table-selection h4 {
  color: #eaeaf2 !important;
}
body.dark-mode .sql-database-container .table-selector {
  background: #1a1a24 !important;
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}
body.dark-mode .sql-database-container .table-selector:focus {
  border-color: #21acf6 !important;
  box-shadow: 0 0 0 2px rgba(33, 172, 246, 0.2) !important;
}
body.dark-mode .sql-database-container .search-field {
  background: #1a1a24 !important;
  border-color: #474755 !important;
  color: #eaeaf2 !important;
}
body.dark-mode .sql-database-container .search-field:focus {
  border-color: #21acf6 !important;
  box-shadow: 0 0 0 2px rgba(33, 172, 246, 0.2) !important;
}
body.dark-mode .sql-database-container .search-info {
  color: #c2c2cf !important;
}
body.dark-mode .sql-database-container .table-container {
  background: #1a1a24 !important;
  border-color: #474755 !important;
}
body.dark-mode .sql-database-container .data-table {
  background: #1a1a24 !important;
  color: #eaeaf2 !important;
}
body.dark-mode .sql-database-container .table-header {
  background: #2e2e38 !important;
  color: #eaeaf2 !important;
  border-bottom-color: #474755 !important;
}
body.dark-mode .sql-database-container .column-name {
  color: #eaeaf2 !important;
}
body.dark-mode .sql-database-container .column-type {
  background: #474755 !important;
  color: #c2c2cf !important;
}
body.dark-mode .sql-database-container .table-cell {
  border-bottom-color: #474755 !important;
}
body.dark-mode .sql-database-container .cell-content {
  color: #eaeaf2 !important;
}
body.dark-mode .sql-database-container .data-row:nth-child(even) {
  background: #2e2e38 !important;
}
body.dark-mode .sql-database-container .data-row:hover {
  background: rgba(33, 172, 246, 0.15) !important;
}
body.dark-mode .sql-database-container .table-paginator {
  background: #1a1a24 !important;
  border-top-color: #474755 !important;
  color: #eaeaf2 !important;
}
body.dark-mode .sql-database-container .btn:not(.btn-toggle) {
  background: #FFE600 !important;
  color: #333 !important;
}
body.dark-mode .sql-database-container .btn:not(.btn-toggle):hover {
  background: #E6CC00 !important;
}
body.dark-mode .sql-database-container .btn-secondary {
  background: #474755 !important;
  color: #fff !important;
  fill: #fff !important;
}
body.dark-mode .sql-database-container .debug-info {
  background: #1a1a24 !important;
  border-color: #474755 !important;
  color: #c2c2cf !important;
}
body.dark-mode .sql-database-container .table-container::-webkit-scrollbar-track {
  background: #2e2e38 !important;
}
body.dark-mode .sql-database-container .table-container::-webkit-scrollbar-thumb {
  background: #474755 !important;
}
body.dark-mode .sql-database-container .table-container::-webkit-scrollbar-thumb:hover {
  background: #5a5a6a !important;
}

/* --- SQL Database Tab Dark Mode Fixes (regressions) --- */

/* 1. Headline underline blue in dark mode */
body.dark-mode .sql-database-container .section-header h3 {
  border-bottom-color: #21acf6 !important;
}

/* 2. Paginator buttons white in dark mode (Angular Material paginator) */
body.dark-mode .sql-database-container .mat-paginator button,
body.dark-mode .sql-database-container .mat-paginator .mat-paginator-icon {
  color: #fff !important;
  fill: #fff !important;
}

/* 3. Download Database (.db) button blue in dark mode */
body.dark-mode .sql-database-container .btn {
  background: #FFE600 !important;
  color: #333 !important;
}
body.dark-mode .sql-database-container .btn:hover {
  background: #E6CC00 !important;
}
body.dark-mode .sql-database-container .btn-secondary {
  background: #474755 !important;
  color: #fff !important;
  fill: #fff !important;
}
body.dark-mode .sql-database-container .btn.download-db {
  background: #21acf6 !important;
  color: #fff !important;
}
body.dark-mode .sql-database-container .btn.download-db:hover {
  background: #1a9afa !important;
}

/* --- Angular Material MDC Paginator Dark Mode Icon/Button Fix --- */
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-icon-button,
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-paginator-icon {
  color: #fff !important;
  fill: #fff !important;
}
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-icon-button[disabled] {
  color: #747480 !important;
  fill: #747480 !important;
}

/* --- Extra MDC Paginator Icon Fixes for Dark Mode --- */
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-icon-button svg,
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-paginator-icon svg,
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-paginator-icon path {
  color: #fff !important;
  fill: #fff !important;
  stroke: #fff !important;
}
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-icon-button {
  --mdc-icon-button-icon-color: #fff !important;
  color: #fff !important;
}

/* --- Aggressive MDC Paginator Icon Fixes for Dark Mode --- */
body.dark-mode ::ng-deep .mat-mdc-paginator svg,
body.dark-mode ::ng-deep .mat-mdc-paginator path {
  color: #fff !important;
  fill: #fff !important;
  stroke: #fff !important;
}
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-icon-button .mdc-icon-button__ripple {
  background: transparent !important;
}
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-icon-button * {
  color: #fff !important;
  fill: #fff !important;
  stroke: #fff !important;
}

/* --- Nuclear Option: Force All Paginator Content to White in Dark Mode --- */
body.dark-mode ::ng-deep .mat-mdc-paginator {
  color: #fff !important;
}
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-icon-button,
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-icon-button svg,
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-icon-button .mat-mdc-paginator-icon,
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-paginator-icon,
body.dark-mode ::ng-deep .mat-mdc-paginator .mat-mdc-paginator-icon path {
  color: #fff !important;
  fill: #fff !important;
  stroke: #fff !important;
}
body.dark-mode ::ng-deep .mat-mdc-paginator * {
  color: #fff !important;
  fill: #fff !important;
  stroke: #fff !important;
}

/* --- Unified Clear All Button Style --- */
.clear-all-btn {
  background: #a11c1c !important;
  color: #fff !important;
  border: none;
  border-radius: 4px;
  padding: 8px 16px;
  font-size: 14px;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}
.clear-all-btn i {
  font-size: 1em;
  margin-right: 4px;
}
.clear-all-btn:hover, .clear-all-btn:focus {
  background: #7d1515 !important;
  color: #fff !important;
}
body.dark-mode .clear-all-btn {
  background: #a11c1c !important;
  color: #fff !important;
}
body.dark-mode .clear-all-btn:hover, body.dark-mode .clear-all-btn:focus {
  background: #7d1515 !important;
  color: #fff !important;
}

/* --- Solid backgrounds for dropdowns and overlays in dark mode --- */
body.dark-mode ::ng-deep .mat-mdc-select-panel,
body.dark-mode ::ng-deep .mat-mdc-menu-panel,
body.dark-mode ::ng-deep .mat-mdc-autocomplete-panel,
body.dark-mode ::ng-deep .mat-mdc-select-panel .mat-mdc-option,
body.dark-mode ::ng-deep .mat-mdc-menu-content {
  background: #23232b !important;
  color: #eaeaf2 !important;
}

/* Solid background for code viewer header/footer in dark mode */
body.dark-mode .code-viewer-header,
body.dark-mode .code-viewer-footer {
  background: #23232b !important;
  color: #eaeaf2 !important;
}

/* --- Force solid backgrounds for Angular Material overlays in dark mode --- */
body.dark-mode .cdk-overlay-container .mat-mdc-select-panel,
body.dark-mode .cdk-overlay-container .mat-mdc-menu-panel,
body.dark-mode .cdk-overlay-container .mat-mdc-autocomplete-panel,
body.dark-mode .cdk-overlay-container .mat-mdc-select-panel .mat-mdc-option,
body.dark-mode .cdk-overlay-container .mat-mdc-menu-content {
  background: #23232b !important;
  color: #eaeaf2 !important;
}

/* Fallback: all overlays */
body.dark-mode .cdk-overlay-container * {
  background-color: #23232b !important;
  color: #eaeaf2 !important;
}

/* --- Solid backgrounds for modal header/footer/content in dark mode --- */
body.dark-mode .modal-content {
  background-color: #1a1a24 !important;
  color: #f0f0f0;
}

body.dark-mode .modal-header,
body.dark-mode .modal-footer {
  background-color: #2c2c38 !important;
  border-color: #444;
  color: #f0f0f0;
}

/* --- Force solid background for settings menu and children in dark mode --- */
body.dark-mode .settings-menu {
  background-color: #2c2c38;
  border: 1px solid #444;
  color: #f0f0f0;
  box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}

body.dark-mode .settings-options,
body.dark-mode .setting-item {
  background: #2e2e38 !important;
}

/* High specificity override for settings menu background */
body.dark-mode div.settings-menu.settings-menu.settings-menu.settings-menu {
  background-color: #2e2e38 !important;
}

body.dark-mode .toggle-switch,
body.dark-mode .toggle-slider,
body.dark-mode .setting-item {
  background: transparent !important;
  box-shadow: none !important;
  border: none !important;
}

body.dark-mode .settings-header {
  border: none !important;
  border-bottom: none !important;
  box-shadow: none !important;
}
body.dark-mode .settings-header::before,
body.dark-mode .settings-header::after {
  display: none !important;
}

/* Toggle switch colors in dark mode */
body.dark-mode .toggle-slider {
  background-color: #747480 !important; /* Off state track */
}
body.dark-mode .toggle-input:checked + .toggle-slider {
  background-color: #21acf6 !important; /* On state track */
}
body.dark-mode .toggle-slider:before {
  background-color: #eaeaf2 !important; /* Handle */
}

body.dark-mode .install-btn:hover {
  background: #1c6c2e !important;
}

body.dark-mode .image-viewer-overlay {
  background-color: rgba(26, 26, 36, 0.9);
}

/* --- Final fix for download link --- */
body.dark-mode .output-display .download-link {
  color: #21acf6;
}

body.dark-mode .generated-image {
  background-color: #2c2c38 !important;
  border-color: #444 !important;
}

body.dark-mode .maximized-image-container {
  background-color: #1e1e2c !important;
}

body.dark-mode .maximized-image {
  border-color: #444 !important;
} 